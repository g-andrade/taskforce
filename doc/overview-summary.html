<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>taskforce</title>
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="EDoc">
</head>
<body bgcolor="white">
<div class="navbar"><a name="#navbar_top"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<h1>taskforce</h1>
<p>Copyright Â© 2015 Guilherme Andrade</p>
<p><b>Version:</b> 1.0.2-13-g4b595e6</p>
<p><b>Authors:</b> Guilherme Andrade (<a href="mailto:g@gandrade.net"><tt>g@gandrade.net</tt></a>).</p>
<p><code>taskforce</code> allows you to parallelise arbitrary tasks in a controlled way.</p>

<hr>
<pre lang="erlang">
%
% Calculate first 200 prime numbers using 4 processes,
% with a timeout of 2s per individual calculation and 10s
% for the whole batch.
%
NrOfPrimes = 200,
IndividualTimeoutT = 2000, % in miliseconds
GlobalTimeoutT = 10000,    % in miliseconds
MinionCount = 4,           % 4 workers
Tasks =
    [taskforce:new_task({nth,Nth}, fun fancy_lib:find_nth_prime/1,
                        [Nth], IndividualTimeoutT)
     || Nth &lt;- lists:seq(1, NrOfPrimes)],

{NthPrimes, IndividualTimeouts, GlobalTimeouts} =
    taskforce:execute_tasks(Tasks, GlobalTimeoutT, MinionCount),

io:format("200th prime is: ~p~n", [proplists:get_value({nth,200}, NthPrimes)]).
</pre>

<hr>
<div class="navbar"><a name="#navbar_bottom"></a><table width="100%" border="0" cellspacing="0" cellpadding="2" summary="navigation bar"><tr><td><a href="overview-summary.html" target="overviewFrame">Overview</a></td><td><a href="http://www.erlang.org/"><img src="erlang.png" align="right" border="0" alt="erlang logo"></a></td></tr></table></div>
<p><i>Generated by EDoc, Apr 30 2017, 21:13:05.</i></p>
</body>
</html>
